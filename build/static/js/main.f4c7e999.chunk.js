(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(49),l=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(2),o=a(3),c=a(6),u=a(5),m=a(4),d=a(8);function h(e,t){window.document.cookie=e+"="+t+";"}function p(e){for(var t=e+"=",a=decodeURIComponent(window.document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function f(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var a=e[t].split("=");document.cookie=a[0]+"=;expires=Thu, 21 Sep 1979 00:00:01 UTC;"}}var g=a(7),E=a(1),b=(a(58),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={password:"",confirmPassword:"",error:""},n.handleInputChange=n.handleInputChange.bind(Object(E.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(g.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.checkPasswords()){var a=document.getElementById("registerForm"),n=new Request("https://pp-friends.herokuapp.com/register",{method:"POST",body:new FormData(a)});fetch(n).then((function(e){return e.json()})).then((function(e){"Success"===e.response&&(h("userId",e.id),t.props.history.push({pathname:"/createprofile"})),t.setState({error:e.response})})).catch((function(e){t.setState({error:"Error connecting to backend"})}))}}},{key:"checkPasswords",value:function(){var e=this.state.password,t=this.state.confirmPassword;return 0===e.length?(alert("Please add password"),!1):t===e||(alert("Please make sure passwords match"),!1)}},{key:"render",value:function(){return f(),r.a.createElement("div",{className:"Register"},r.a.createElement("h1",null," Join the Community"),r.a.createElement("form",{id:"registerForm",onSubmit:this.handleSubmit},r.a.createElement("div",{class:"form-group form in-line"},r.a.createElement("input",{name:"email",type:"email",placeholder:"Email Address"}),r.a.createElement("br",null),r.a.createElement("input",{name:"password",type:"password",value:this.state.password,placeholder:"Enter password",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("input",{name:"confirmPassword",type:"password",value:this.state.confirmPassword,placeholder:"Re-enter password",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Join"}),r.a.createElement("br",null),r.a.createElement("text",null,this.state.error))),r.a.createElement(m.b,{to:"/"},"I Already Have an Account"))}}]),a}(r.a.Component)),v=Object(d.f)(b),y=(a(24),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleUpdate=function(e){if(e.preventDefault(),n.completedInput()){if(n.checkAge(),n.state.age>18&&n.state.age<100){var t=n.state.id,a=new FormData(document.getElementById("profileForm"));a.append("id",t),a.append("age",n.state.age);var r=new Request("https://pp-friends.herokuapp.com/createprofile",{method:"POST",body:a});fetch(r).then((function(e){return e.json()})).then((function(e){"Success"===e.response?n.props.history.push({pathname:"/questionnaire"}):n.setState({error:e.response})})).catch((function(e){n.setState({error:"Error connecting to backend"})}))}}else alert("Please fill in all fields")},n.completedInput=function(){for(var e=["name","birthday","bio","gender","genderPreference","education","interests"],t=0;t<e.length;t++)if(!n.state[e[t]])return!1;return!0},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(g.a)({},r,a))},n.checkAge=function(){var e=new Date(n.state.birthday),t=new Date,a=t.getFullYear()-e.getFullYear();(t.getMonth()<e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate<e.getDate())&&(a-=1),a<18?alert("You need to be above 18 to register"):a>100?alert("Please make sure you have entered a valid birthday"):a>=18&&a<=100||alert("Please input valid birthday"),n.state.age=a},n.state={id:p("userId"),name:"",birthday:"",bio:"",gender:"Female",genderPreference:"Female",education:"",interests:"",error:"",maxDistance:10,age:0},n.handleUpdate=n.handleUpdate.bind(Object(E.a)(n)),n.handleChange=n.handleChange.bind(Object(E.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Profile"},r.a.createElement("form",{id:"profileForm",onSubmit:this.handleUpdate},r.a.createElement("h1",null,"My Profile \ud83d\udc4b"),r.a.createElement("img",{src:"ppFriendsLogo.png"}),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"column left"},r.a.createElement("div",{class:"profilepic"},r.a.createElement("p",null,"Upload Profile Picture:"),r.a.createElement("input",{type:"file",id:"img",name:"img",accept:"image/*"}),r.a.createElement("p",null,"Submit Profile:"),r.a.createElement("input",{type:"submit",value:"Let's get started"}))),r.a.createElement("div",{class:"column right"},r.a.createElement("div",{class:"rectangle3"},r.a.createElement("label",{for:"User"},"Name \ud83d\ude00"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,maxlength:"30"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Birthday"},"Birthday \ud83c\udf82"),r.a.createElement("input",{type:"date",name:"birthday",value:this.state.birthday,min:"1920-01-01",placeholder:"YYYY-MM-DD",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Gender"},"Gender \ud83d\udc6b"),r.a.createElement("select",{name:"gender",onChange:this.handleChange,value:this.state.gender},r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"GenderPreference"},"Your Preferred Gender for friends \ud83c\udf8e"),r.a.createElement("select",{name:"genderPreference",fieldValue:this.state.genderPreference,onChange:this.handleChange,value:this.state.genderPreference},r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Both"},"Both")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Education"},"Education/Work \ud83d\udcbb"),r.a.createElement("input",{type:"text",name:"education",value:this.state.education,onChange:this.handleChange,maxlength:"30"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Interests"},"Your interests \ud83c\udfa8"),r.a.createElement("textarea",{type:"text",name:"interests",value:this.state.interests,onChange:this.handleChange,maxlength:"255"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Bio"},"Bio \ud83d\ude36"),r.a.createElement("textarea",{type:"text",name:"bio",value:this.state.bio,onChange:this.handleChange,maxlength:"255",contenteditable:"true"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Distance"},"Max Distance \ud83c\udf0e"),r.a.createElement("input",{type:"range",name:"maxDistance",value:this.state.maxDistance,onChange:this.handleChange,min:"1",max:"500"}),r.a.createElement("text",null,this.state.maxDistance,"KM"),r.a.createElement("br",null),r.a.createElement("br",null))))),r.a.createElement("text",null,this.state.error))}}]),a}(r.a.Component)),w=Object(d.f)(y),I=(a(63),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={password:"",error:""},n.handleInputChange=n.handleInputChange.bind(Object(E.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(g.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=document.getElementById("loginForm"),n=new Request("https://pp-friends.herokuapp.com/login",{method:"POST",body:new FormData(a)});fetch(n).then((function(e){return e.json()})).then((function(e){"Success"===e.response&&(h("userId",e.id),t.props.history.push({pathname:"/main"})),t.setState({error:e.response})})).catch((function(e){t.setState({error:"Error connecting to backend"})}))}},{key:"render",value:function(){return f(),r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"logoBanner"},r.a.createElement("svg",{viewBox:"0 0 500 200"},r.a.createElement("path",{id:"curve",fill:"transparent",d:"M73.2,200.6c4-6.1,65.5-96.8,178.6-95.6c111.3,1.2,170.8,90.3,175.1,97"}),r.a.createElement("text",{width:"500"},r.a.createElement("textPath",{href:"#curve"},"Making friendly connections."))),r.a.createElement("img",{src:"ppFriendsLogo.png"})),r.a.createElement("h1",null," Purely Platonic"),r.a.createElement("form",{id:"loginForm",onSubmit:this.handleSubmit},r.a.createElement("input",{name:"email",type:"email",placeholder:"Email Address"}),r.a.createElement("br",null),r.a.createElement("input",{name:"password",type:"password",value:this.state.password,placeholder:"Enter password",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Login"}),r.a.createElement("br",null),r.a.createElement("text",null,this.state.error)),r.a.createElement(m.b,{to:"/register"},"Create a new Account"))}}]),a}(r.a.Component)),S=Object(d.f)(I),P=a(33),k=a.n(P),C=a(51),O=(a(65),function(e){return r.a.createElement("nav",null,r.a.createElement("div",{className:"div-header"},r.a.createElement("div",{class:"navbar"},r.a.createElement(m.c,{to:{pathname:"/main",state:{id:e.id}},className:"inactive",activeClassName:"active"},"Back to Swiping!"),r.a.createElement(m.c,{to:{pathname:"/matches",state:{id:e.id}},className:"inactive",activeClassName:"active"},"Matches"),r.a.createElement(m.c,{to:{pathname:"/viewprofile",state:{id:e.id,friendId:-1}},className:"inactive",activeClassName:"active",replace:!0},"View Profile"),r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"dropbtn"},"Settings",r.a.createElement("i",{class:"arrow down"})),r.a.createElement("div",{class:"dropdown-content"},r.a.createElement(m.c,{to:{pathname:"/editprofile",state:{id:e.id}},className:"inactive",activeClassName:"active"},"Edit Profile"),r.a.createElement(m.c,{to:{pathname:"/updateEmail"},className:"inactive",activeClassName:"active"},"Change Email"),r.a.createElement(m.c,{to:{pathname:"/updatePassword"},className:"inactive",activeClassName:"active"},"Change Password"),r.a.createElement(m.c,{to:{pathname:"/updateQuestionnaire"},className:"inactive",activeClassName:"active"},"Re-answer Questionnaire")))),r.a.createElement("div",{class:"navbar"},r.a.createElement(m.c,{to:{pathname:"/login"},className:"inactive",activeClassName:"active"},r.a.createElement("button",{className:"button-header"},"Log Out")))))});a(66);a(67);var j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Loading"})}}]),a}(r.a.Component),N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:p("userId"),age:"",firstName:"",description:"",interests:"",gender:"",workplace:"",profilePicture:null,potentialFriends:[],displayedUserId:"",error:"",loading:!0,mutualFriendAmount:0,mutualFriendNames:null},n.getPotentialFriendList=n.getPotentialFriendList.bind(Object(E.a)(n)),n.displayProfile=n.displayProfile.bind(Object(E.a)(n)),n.handleSwipe=n.handleSwipe.bind(Object(E.a)(n)),n}return Object(o.a)(a,[{key:"getPotentialFriendList",value:function(){var e=this,t=this.state.id,a=new FormData;a.append("userId",t);var n=new Request("https://pp-friends.herokuapp.com/getPotentialFriends",{method:"POST",body:a});fetch(n).then((function(e){return e.json()})).then((function(t){if("Success"===t.response){var a=t.potentialListId,n=a.pop();e.setState({potentialFriends:a,displayedUserId:n,error:""}),e.displayProfile()}else e.setState({error:t.response,loading:!1})})).catch((function(t){e.setState({error:"Error connecting to backend",loading:!1})}))}},{key:"displayProfile",value:function(){var e=this,t=this.state.displayedUserId,a=this.state.id;if(t){var n=new FormData;n.append("currentUserId",a),n.append("shownUserId",t);var s=new Request("https://pp-friends.herokuapp.com/displayProfile",{method:"POST",body:n});fetch(s).then((function(e){return e.json()})).then((function(t){"Success"===t.response?e.setState({age:t.age,firstName:t.firstName,description:t.description,interests:t.interests,gender:t.gender,workplace:t.workPlace,profilePicture:t.profilePicture,mutualFriendAmount:t.mutualFriendAmount,mutualFriendNames:t.mutualFriendNames,error:"",loading:!1}):e.setState({error:t.response,loading:!1})})).catch((function(t){e.setState({loading:!1,error:"Error connecting to backend"})}))}else this.setState({loading:!1,error:r.a.createElement("p",null,r.a.createElement("img",{src:"sad-penguin.svg"}),r.a.createElement("br",null),"There are no current potential friends for you within the area."," ",r.a.createElement("br",null),"Try updating your profile or come back later!")})}},{key:"handleSwipe",value:function(e){var t=this;this.setState({loading:!0});var a=this.state.displayedUserId,n=this.state.id,s=new FormData;s.append("currentUserId",n),s.append("shownUserId",a),s.append("match",e);var l=new Request("https://pp-friends.herokuapp.com/swipe",{method:"POST",body:s});fetch(l).then((function(e){return e.json()})).then((function(e){if("Success"===e.response){var a=t.state.potentialFriends;if(a){var n=a.pop();t.setState({potentialFriends:a,displayedUserId:n,error:""}),t.displayProfile()}else t.setState({error:r.a.createElement("p",null,r.a.createElement("img",{src:"sad-penguin.svg"}),r.a.createElement("br",null),"There are no more potential friends for you within the area."," ",r.a.createElement("br",null),"Try updating your profile or come back later!"),loading:!1})}else t.setState({error:e.response,loading:!1})})).catch((function(e){t.setState({loading:!1,error:"Error connecting to backend"})}))}},{key:"componentDidMount",value:function(){var e=Object(C.a)(k.a.mark((function e(){var t,a,n,r,s,l,i,o,c,u,m,d,f=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p("location"),a=t[0],n=t[1],e.next=5,navigator.geolocation?new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t,{timeout:1e4})})):"Error: browser does not support geolocation";case 5:void 0!=(r=e.sent)?(i=null===r||void 0===r||null===(s=r.coords)||void 0===s?void 0:s.longitude,o=null===r||void 0===r||null===(l=r.coords)||void 0===l?void 0:l.latitude,c=isFinite(i)&&Math.abs(i)<=180,u=isFinite(o)&&Math.abs(o)<=90,c&&u&&(a===i&&n===o||(m=this.state.id,h("longitude",i),h("latitude",o),d=new Request("https://pp-friends.herokuapp.com/location",{method:"POST",body:JSON.stringify({userID:m,longitude:i,latitude:o})}),fetch(d).then((function(e){return e.json()})).then((function(e){"Success"===e.response?console.log("updated location"):console.log("error location update")})).catch((function(e){f.setState({error:"Error connecting to backend",loading:!1})}))))):console.log("error getting user location");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.state.loading,n=this.state.id,s=this.state.potentialFriends,l=this.state.displayedUserId,i=this.state.error,o=this.state.profilePicture;this.state.mutualFriendNames;return 0==this.state.mutualFriendAmount?e=r.a.createElement("div",{className:"noMutualFriends"},r.a.createElement("p",null,"No Mutual Friends")):this.state.mutualFriendAmount>0&&(e=r.a.createElement("div",{className:"mutualFriendSection"},r.a.createElement("p",null,"Your Mutual Friends:"),r.a.createElement("text",null,this.state.mutualFriendNames))),""===n?(this.props.history.push({pathname:"/login"}),null):(""===l&&0===s.length&&""===i&&this.getPotentialFriendList(),r.a.createElement("div",{className:"SwipeProfile"},r.a.createElement(O,{id:this.state.id}),r.a.createElement("br",null),r.a.createElement("header",{class:"pageTitle"},"Potential Friends!"),r.a.createElement("br",null),r.a.createElement("br",null),a?r.a.createElement(j,null):i?r.a.createElement("text",null,i):r.a.createElement("div",null,r.a.createElement("img",{src:"ppFriendsLogo.png"}),r.a.createElement("h1",null,"A potential Friend!"),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"column left"},r.a.createElement("div",{class:"profileLeft"},o?r.a.createElement("img",{src:o,alt:"profilepic"}):r.a.createElement("img",{src:"profilepic.png",alt:"profilepic"}),r.a.createElement("h1",null,this.state.firstName,", (",this.state.age,")"),e,r.a.createElement("button",{class:"button letsTalkButton",onClick:function(){return t.handleSwipe(!0)}},"Let's Talk"),r.a.createElement("br",null),r.a.createElement("button",{class:"button notInterestedButton",onClick:function(){return t.handleSwipe(!1)}},"Not Interested"))),r.a.createElement("div",{class:"column right"},r.a.createElement("div",{class:"profileIntroSection"},r.a.createElement("p",null,"Gender \ud83d\udc6b "),r.a.createElement("text",null,this.state.gender),r.a.createElement("p",null,"Biography \ud83d\ude36 "),r.a.createElement("text",null,this.state.description),r.a.createElement("p",null,"Interests \ud83c\udfa8 "),r.a.createElement("text",null,this.state.interests),r.a.createElement("p",null,"Education / Work \ud83d\udcbb "),r.a.createElement("text",null,this.state.workplace)))))))}}]),a}(r.a.Component),U=Object(d.f)(N),x=(a(68),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n,r;return Object(i.a)(this,a),(r=t.call(this,e)).state=(n={userId:p("userId"),userIds:[],matchesExist:"not set",firstnames:[],name:""},Object(g.a)(n,"userIds",[]),Object(g.a)(n,"notMessagedUserIds",[]),Object(g.a)(n,"notMessagedUserNames",[]),Object(g.a)(n,"messagedUserIds",[]),Object(g.a)(n,"messagedUserNames",[]),Object(g.a)(n,"messageIds",[]),Object(g.a)(n,"messageSender",[]),Object(g.a)(n,"messageContent",[]),Object(g.a)(n,"timeStamp",[]),Object(g.a)(n,"loading",!0),n),r.selectUser=r.selectUser.bind(Object(E.a)(r)),r.unmatchUser=r.unmatchUser.bind(Object(E.a)(r)),r}return Object(o.a)(a,[{key:"selectUser",value:function(e){var t=this,a=e.target.value.split("|"),n=new Request("https://pp-friends.herokuapp.com/conversationId",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId,friendId:a[0]})});fetch(n).then((function(e){return e.json()})).then((function(e){t.props.history.push({pathname:"/messages",state:{friendId:a[0],currentName:t.state.name,friendName:a[1],currentConvoId:e.currentConvoId,friendConvoId:e.friendConvoId}})})).catch((function(e){alert("Something went wrong"),console.error(e)}))}},{key:"unmatchUser",value:function(e){var t=this,a=e.target.value.split("|"),n=new Request("https://pp-friends.herokuapp.com/unmatch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId,friendId:a[0]})});fetch(n).then((function(e){return e.json()})).then((function(e){return e.userIds&&0!=e.userIds.length?t.setState({name:e.currentName,matchesExist:"exists",userIds:e.userIds,notMessagedUserIds:e.notMessagedUserIds,notMessagedUserNames:e.notMessagedUserNames,messagedUserIds:e.messagedUserIds,messagedUserNames:e.messagedUserNames,messageIds:e.messageIds,messageSender:e.messageSender,messageContent:e.messageContent,timeStamp:e.timeStamp}):t.setState({matchesExist:"not exists"})})).catch((function(e){console.error(e)}))}},{key:"get_matches",value:function(){var e=this,t=new Request("https://pp-friends.herokuapp.com/matches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId})});fetch(t).then((function(e){return e.json()})).then((function(t){return t.userIds&&0!=t.userIds.length?e.setState({name:t.currentName,matchesExist:"exists",userIds:t.userIds,notMessagedUserIds:t.notMessagedUserIds,notMessagedUserNames:t.notMessagedUserNames,messagedUserIds:t.messagedUserIds,messagedUserNames:t.messagedUserNames,messageIds:t.messageIds,messageSender:t.messageSender,messageContent:t.messageContent,timeStamp:t.timeStamp,loading:!1}):e.setState({matchesExist:"not exists",loading:!1})})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){this.get_matches()}},{key:"componentDidUpdate",value:function(e,t){for(var a=0;a<this.state.userIds.length;++a)if(this.state.userIds[a]!=t.userIds[a]){this.get_matches();break}}},{key:"get_button_colour",value:function(e){return e%2==0?"blue":"yellow"}},{key:"render",value:function(){var e,t=this,a=this.state.loading;if(""===this.state.userId)return this.props.history.push({pathname:"/login"}),null;if("exists"==this.state.matchesExist){var n=[],s=[];if(this.state.messagedUserIds&&this.state.messagedUserIds.length>0)for(var l=0;l<this.state.messagedUserIds.length;l++){var i=this.state.messagedUserIds[l],o=void 0;o=this.state.messageSender[l]==this.userId?this.state.currentName:this.state.messagedUserNames[l],n.push(r.a.createElement("div",{className:"MessagedUsers"},r.a.createElement("p1",null,o," | "),r.a.createElement(m.b,{to:{pathname:"/viewfriendprofile",state:{id:this.state.userId,friendId:this.state.messagedUserIds[l],currentName:this.state.name}}},"View Profile | "),"                            ",r.a.createElement("button",{className:"unmatch-button",key:i+"match",value:this.state.messagedUserIds[l]+"|"+this.state.messagedUserIds[l],onClick:function(e){window.confirm("Are you sure you wish to unmatch with this user? You cannot undo this action")&&t.unmatchUser(e)}},"Unmatch"),r.a.createElement("button",{className:[this.get_button_colour(l),"pos-user"].join(" "),key:i,value:this.state.messagedUserIds[l]+"|"+this.state.messagedUserNames[l],onClick:this.selectUser},"Message ",o),r.a.createElement("br",null),r.a.createElement("i",null,o,": ",this.state.messageContent[l]," "),r.a.createElement("br",null),r.a.createElement("i",null,this.state.timeStamp[l]),r.a.createElement("br",null),r.a.createElement("br",null)))}if(this.state.notMessagedUserIds&&this.state.notMessagedUserIds.length>0)for(l=0;l<this.state.notMessagedUserIds.length;l++){i=this.state.notMessagedUserIds[l];s.push(r.a.createElement("div",null,r.a.createElement("p1",null,this.state.notMessagedUserNames[l]," | "),r.a.createElement(m.b,{to:{pathname:"/viewfriendprofile",state:{id:this.state.userId,friendId:this.state.notMessagedUserIds[l],currentName:this.state.name}}},"View Profile | "),r.a.createElement("button",{className:"unmatch-button",key:i+"match",value:this.state.notMessagedUserIds[l]+"|"+this.state.notMessagedUserNames[l],onClick:function(e){window.confirm("Are you sure you wish to unmatch with this user? You cannot undo this action")&&t.unmatchUser(e)}},"Unmatch"),r.a.createElement("button",{className:[this.get_button_colour(l),"pos-user"].join(" "),key:i,value:this.state.notMessagedUserIds[l]+"|"+this.state.notMessagedUserNames[l],onClick:this.selectUser},"Message ",this.state.notMessagedUserNames[l])))}0!==this.state.messagedUserIds.length&&0!==this.state.notMessagedUserIds.length?e=r.a.createElement("div",{className:"UserContainers"},r.a.createElement("div",{className:"row"},r.a.createElement("img",{src:"happy-penguin.svg"}),r.a.createElement("h2",null,"Congratulations, you have a match!"),r.a.createElement("div",{className:"column left"},r.a.createElement("h2",null,"Not Messaged Users"),s),r.a.createElement("div",{className:"column right"},r.a.createElement("h2",null,"Messaged Users"),n))):n.length>0?e=r.a.createElement("div",{className:"UserContainers"},r.a.createElement("img",{src:"happy-penguin.svg"}),r.a.createElement("h2",null,"You don't have any new matches"),r.a.createElement("h2",null,"Please keep swiping or check back later!"),r.a.createElement("br",null),r.a.createElement("h2",null,"Messaged Users"),r.a.createElement("div",{className:"SingleColumn"},r.a.createElement("p",null,n))):s.length>0&&(e=r.a.createElement("div",{className:"UserContainers"},r.a.createElement("img",{src:"happy-penguin.svg"}),r.a.createElement("h2",null,"Congratulations, you have a match!"),r.a.createElement("h2",null,"There are friends you haven't messaged yet :)"),r.a.createElement("br",null),r.a.createElement("h2",null,"Not Messaged Users"),r.a.createElement("p",null,s)))}else e="not exists"==this.state.matchesExist?r.a.createElement("h2",{id:"Matches-none"},r.a.createElement("img",{src:"sad-penguin.svg"}),r.a.createElement("h2",null,"Sorry, no one met the matching criteria you set."),r.a.createElement("br",null),r.a.createElement("p",null,"We suggest you to edit your profile, or wait for more users to join our community."),r.a.createElement("p",null,"Please try again later :(")):r.a.createElement("h2",null);return r.a.createElement("div",null,r.a.createElement(O,{id:this.state.userId}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),a?r.a.createElement(j,null):r.a.createElement("div",{id:"Matches-section"},e,r.a.createElement("div",{class:"swipingButton",id:"swipingButton"},r.a.createElement(m.b,{to:{pathname:"/main"}},"Keep Swiping")),r.a.createElement("div",{class:"viewProfileButton",id:"viewProfileButton"},r.a.createElement(m.b,{to:{pathname:"/viewprofile"}},"View Profile"))))}}]),a}(r.a.Component)),M=Object(d.f)(x),q=(a(18),[{question:"What is the most important thing about a friendship to you?",answers:["Have somebody to confide in","Have somebody to have fun with"],questionId:"1"},{question:"Would you rather...",answers:["Have a friend who enjoys doing the same things as you","Have a friend who feels the same way about life as you do"],questionId:"2"},{question:"Which statement below do you relate the most?",answers:["I like to be close to people","I like to keep my distance from people"],questionId:"3"},{question:"When you talk with friends on the phone, it is usually to?",answers:["Make arrangements or plans","Have a conversation or chat"],questionId:"4"},{question:"Which statement below do you relate the most?",answers:["I like to plan where I am going and who I am going with","I like to be spontaneous and just let fate decide"],questionId:"5"},{question:"You are going to the movies, which genre would you likely choose?",answers:["Action","Drama"],questionId:"6"},{question:"If you are meeting a friend, what activity would you prefer doing?",answers:["Shopping","Playing at the Arcade"],questionId:"7"},{question:"If you moved to a new city, which would you rather put more effort into?",answers:["Staying in touch with old friends","Making new friends"],questionId:"8"},{question:"As a friend, you are someone that?",answers:["Supports others","Is fun to be with"],questionId:"9"},{question:"What do you do when your friend has a problem",answers:["Discuss their feelings","Come up with practical solutions"],questionId:"10"},{question:"If your friend was having personal problems, what do you do?",answers:["Wait for them to contact you","Contact them to discuss the problem"],questionId:"11"},{question:"What do you do when you have a personal problem?",answers:["I work it out on my own","I share it with a friend"],questionId:"12"},{question:"When talking with friends, which of the topics below are you more interested to talk about?",answers:["Political and current affairs","Hobbies and interests"],questionId:"13"},{question:"When talking with friends, which of the topics below are you more interested to talk about?",answers:["Family and friends","Work or school"],questionId:"14"},{question:"When talking to someone you just met, which of the topics below are you more interested to talk about?",answers:["Political and current affairs","Hobbies and interests"],questionId:"15"},{question:"When talking to someone you just met, which of the topics below are you more interested to talk about?",answers:["Family and friends","Work or school"],questionId:"16"}]),F=function(){return Promise.resolve(q)},D=function(e){var t=e.question,a=e.options,n=e.ID,s=e.selected;return r.a.createElement("div",{class:"questionBox"},r.a.createElement("div",{class:"Questions"},n,". ",t),a.map((function(e,t){return r.a.createElement("label",{class:"container"},r.a.createElement("input",{type:"radio",value:e,name:n,onClick:function(){s(t)}}),e,r.a.createElement("span",{class:"checkmark"}))})))},T=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getQuestions=function(){F().then((function(e){n.setState({questionBank:e})}))},n.storeAnswer=function(e,t){n.state.response[t-1]=e},n.state={id:p("userId"),questionBank:[],response:[],error:""},n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){var t=this;if(console.log(this.state.response.length),e.preventDefault(),this.checkResponses()){console.log(this.state.response.length);var a=this.state.id,n=new Request("https://pp-friends.herokuapp.com/questionnaire",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:this.state.response,userId:a})}),r=new Request("https://pp-friends.herokuapp.com/potentialMatch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:this.state.response,userId:a})});fetch(n).then((function(e){return e.json()})).then((function(e){"Success"===e.response?(console.log(t.state.response.length),console.log(e),fetch(r).then((function(e){return e.json()})).then((function(e){"Success"===e.response?t.props.history.push({pathname:"/main"}):t.setState({error:e.response})}))):t.setState({error:e.response})})).catch((function(e){t.setState({error:"Error connecting to backend"})}))}else alert("Please answer all questions")}},{key:"checkResponses",value:function(){var e=0;return this.state.response.map((function(t){0!=t&&1!=t||e++})),16==e}},{key:"componentDidMount",value:function(){this.getQuestions()}},{key:"render",value:function(){var e=this;return""===this.state.id?(this.props.history.push({pathname:"/login"}),null):r.a.createElement("div",null,r.a.createElement("div",{class:"ppQuestionnaire"},r.a.createElement("h1",null,"PP Friends Questionnaire"),r.a.createElement("img",{src:"question-penguin.svg"}),r.a.createElement("h2",null,"Let's get to know you!"),r.a.createElement("h2",null,"Please answer all questions before submitting")),r.a.createElement("div",{className:"boxed"},r.a.createElement("br",null),r.a.createElement("br",null),this.state.questionBank.length>0&&this.state.questionBank.map((function(t){var a=t.question,n=t.answers,s=t.questionId;return r.a.createElement("div",null,r.a.createElement(D,{question:a,options:n,ID:s,key:s,selected:function(t){return e.storeAnswer(t,s)}}),r.a.createElement("br",null))}))),r.a.createElement("br",null),r.a.createElement("button",{class:"submitButton",onClick:this.handleSubmit},"Get Started!"),r.a.createElement("h4",{class:"err"},this.state.error))}}]),a}(n.Component),B=Object(d.f)(T),R=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getQuestions=function(){F().then((function(e){n.setState({questionBank:e})}))},n.storeAnswer=function(e,t){n.state.response[t-1]=e},n.state={id:p("userId"),questionBank:[],response:[],error:""},n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n}return Object(o.a)(a,[{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.checkResponses()){var a=this.state.id,n=new Request("https://pp-friends.herokuapp.com/updateQuestionnaire",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:this.state.response,userId:a})}),r=new Request("https://pp-friends.herokuapp.com/potentialMatch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:this.state.response,userId:a})});fetch(n).then((function(e){return e.json()})).then((function(e){"Success"===e.response?fetch(r).then((function(e){return e.json()})).then((function(e){"Success"===e.response?t.setState({error:"Successfully updated your questionnaire responses!"}):t.setState({error:e.response})})):t.setState({error:e.response})})).catch((function(e){t.setState({error:"Error connecting to backend"})}))}else alert("Please answer all questions")}},{key:"checkResponses",value:function(){var e=0;return this.state.response.map((function(t){0!=t&&1!=t||e++})),16==e}},{key:"componentDidMount",value:function(){this.getQuestions()}},{key:"render",value:function(){var e=this;return""===this.state.id?(this.props.history.push({pathname:"/login"}),null):r.a.createElement("div",null,r.a.createElement(O,{id:this.state.userId}),r.a.createElement("div",{class:"ppQuestionnaire"},r.a.createElement("h1",null,"PP Friends Questionnaire"),r.a.createElement("img",{src:"question-penguin.svg"}),r.a.createElement("h2",null,"Update Your Questionnaire Responses!"),r.a.createElement("h4",null,"Please answer all questions before submitting")),r.a.createElement("div",{className:"boxed"},r.a.createElement("br",null),r.a.createElement("br",null),this.state.questionBank.length>0&&this.state.questionBank.map((function(t){var a=t.question,n=t.answers,s=t.questionId;return r.a.createElement("div",{className:"Questions"},r.a.createElement(D,{question:a,options:n,ID:s,key:s,selected:function(t){return e.storeAnswer(t,s)}}),r.a.createElement("br",null))}))),r.a.createElement("br",null),r.a.createElement("button",{class:"submitButton",onClick:this.handleSubmit},"Update"),r.a.createElement("h4",{class:"err"},this.state.error))}}]),a}(n.Component),Y=Object(d.f)(R),A=a(14),W=a(52),J=a.n(W),L=(a(97),J.a.connect()),G=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n,r,s,l,o,c,u,m,d,h,f,g,b,v,y,w;return Object(i.a)(this,a),(w=t.call(this,e)).scrollToBottom=function(){w.messagesEnd.scrollIntoView({behavior:"smooth"})},w.componentDidMount=function(){var e=w.state.currentConvoId,t=new Request("https://pp-friends.herokuapp.com/getMessages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({convoId:e})});fetch(t).then((function(e){return e.json()})).then((function(t){w.setState({messages:t.messages,messageSender:t.fromNames,timeStamps:t.timeStamps}),L.emit("room",e),L.on("message",(function(e){w.setState({messages:[].concat(Object(A.a)(w.state.messages),[e]),messageSender:[].concat(Object(A.a)(w.state.messageSender),[w.state.friendName]),timeStamps:[].concat(Object(A.a)(w.state.timeStamps),[(new Date).toUTCString()])}),w.scrollToBottom()}))})).catch((function(e){console.error(e)}))},w.componentWillUnmount=function(){var e=w.state.currentConvoId;L.emit("leaveRoom",e)},w.onChange=function(e){w.setState({message:e.target.value})},w.onClick=function(){var e=w.state.message,t=w.state.currentName,a=w.state.room,n=w.state.currentConvoId;if(""!==e){L.emit("message",{msg:e,room:a});var r=new Request("https://pp-friends.herokuapp.com/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({convoId:n,friendConvoId:w.state.room,currentId:w.state.userId,friendId:w.state.friendId,message:e})});fetch(r).then((function(e){return e.json()})).then((function(e){"Success"!=e.response&&alert("Something went wrong sending message")})).catch((function(e){console.error(e)}));var s=new Date;w.setState({messages:[].concat(Object(A.a)(w.state.messages),[e]),messageSender:[].concat(Object(A.a)(w.state.messageSender),[t]),timeStamps:[].concat(Object(A.a)(w.state.timeStamps),[s.toUTCString()]),message:""})}else alert("Please Add A Message")},w.onKeyPress=function(e){13===e.which&&w.onClick()},w.state={userId:p("userId"),messages:[],messageSender:[],timeStamps:[],message:"",room:null===(n=w.props)||void 0===n||null===(r=n.location)||void 0===r||null===(s=r.state)||void 0===s?void 0:s.friendConvoId,currentName:null===(l=w.props)||void 0===l||null===(o=l.location)||void 0===o||null===(c=o.state)||void 0===c?void 0:c.currentName,friendName:null===(u=w.props)||void 0===u||null===(m=u.location)||void 0===m||null===(d=m.state)||void 0===d?void 0:d.friendName,friendId:null===(h=w.props)||void 0===h||null===(f=h.location)||void 0===f||null===(g=f.state)||void 0===g?void 0:g.friendId,currentConvoId:null===(b=w.props)||void 0===b||null===(v=b.location)||void 0===v||null===(y=v.state)||void 0===y?void 0:y.currentConvoId},w.onChange=w.onChange.bind(Object(E.a)(w)),w.onClick=w.onClick.bind(Object(E.a)(w)),w}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this;if(""===this.state.userId)return this.props.history.push({pathname:"/login"}),null;var t=this.state.message,a=this.state.messages,n=this.state.timeStamps,s=this.state.messageSender;return r.a.createElement("div",null,r.a.createElement(O,{id:this.state.userId}),r.a.createElement("div",{className:"PageContainer"},r.a.createElement("br",null),r.a.createElement("h2",null,"You are currently messaging:"),r.a.createElement("h1",null,this.state.friendName),r.a.createElement("div",{className:"MessageContainer"},a.length>0?a.map((function(t,a){return s[a]==e.state.currentName?r.a.createElement("div",{className:"UserOne"},r.a.createElement("p1",null,n[a]),r.a.createElement("p",null,s[a]," : ",t)):r.a.createElement("div",{className:"UserTwo"},r.a.createElement("p1",null,n[a]),r.a.createElement("p",null,s[a]," : ",t))})):r.a.createElement("p",null,"Start a conversation!"),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}}),r.a.createElement("input",{value:t,name:"message",onChange:function(t){return e.onChange(t)},onKeyPress:this.onKeyPress}),r.a.createElement("button",{onClick:function(){return e.onClick()}},"Send Message")," ",r.a.createElement("br",null))))}}]),a}(r.a.Component),Q=Object(d.f)(G),V=(a(98),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={userId:p("userId"),name:"",birthday:"",age:0,bio:"",gender:"Female",genderPreference:"Female",education:"",interests:"",error:"",maxDistance:10,loading:!0,profilePicture:null},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new Request("https://pp-friends.herokuapp.com/viewprofile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId})});fetch(t).then((function(e){return e.json()})).then((function(t){return e.setState({name:t.name,age:t.age,bio:t.bio,gender:t.gender,genderPreference:t.genderPreference,education:t.education,interests:t.interests,birthday:t.birthday,maxDistance:t.maxDistance,loading:!1,profilePicture:t.profilePicture})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){this.state.error;var e=this.state.loading;return""===this.state.userId?(this.props.history.push({pathname:"/login"}),null):r.a.createElement("div",null,r.a.createElement(O,{id:this.state.userId}),e?r.a.createElement(j,null):r.a.createElement("div",{className:"Profile"},r.a.createElement("h1",null,"View My Profile"),r.a.createElement("img",{src:"ppFriendsLogo.png"}),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"column left"},r.a.createElement("div",{class:"profilepic"},r.a.createElement("p",null,"Profile Picture"),this.state.profilePicture&&r.a.createElement("img",{src:this.state.profilePicture}))),r.a.createElement("div",{class:"column right"},r.a.createElement("div",{class:"rectangle"},r.a.createElement("label",{for:"User"},"Name \ud83d\ude00"),this.state.name,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Birthday"},"Birthday \ud83c\udf82"),this.state.birthday,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Gender"},"Gender \ud83d\udc6b"),this.state.gender,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"GenderPreference"},"Your Preferred Gender for friends \ud83c\udf8e"),this.state.genderPreference,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Education"},"Education/Work \ud83d\udcbb"),r.a.createElement("text",null,this.state.education),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Interests"},"Your interests \ud83c\udfa8"),r.a.createElement("text",{class:"bigText"},this.state.interests),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Bio"},"Bio \ud83d\ude36"),r.a.createElement("text",{class:"bigText"},this.state.bio),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Distance"},"Max Distance \ud83c\udf0e"),r.a.createElement("input",{type:"range",name:"maxDistance",value:this.state.maxDistance,min:"1",max:"500"}),r.a.createElement("text",null,this.state.maxDistance,"KM"),r.a.createElement("text",null,this.state.error),r.a.createElement("br",null),r.a.createElement("br",null))))))}}]),a}(r.a.Component)),_=Object(d.f)(V),H=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleUpdate=function(e){if(e.preventDefault(),n.completedInput()){if(n.checkAge(),n.state.age>18&&n.state.age<100){var t,a,s,l=null===(t=n.props)||void 0===t||null===(a=t.location)||void 0===a||null===(s=a.state)||void 0===s?void 0:s.id,i=new FormData(document.getElementById("profileForm"));i.append("id",l),i.append("age",n.state.age);var o=new Request("https://pp-friends.herokuapp.com/editprofile",{method:"POST",body:i});fetch(o).then((function(e){return e.json()})).then((function(e){"Success"===e.response?n.setState({updatedMessage:r.a.createElement("p",null,"You have successfully updated your profile!"),profilePicture:e.imageURL}):n.setState({error:e.response})})).catch((function(e){n.setState({error:"Error connecting to backend"})}))}}else alert("Please fill in all fields")},n.completedInput=function(){for(var e=["name","birthday","bio","gender","genderPreference","education","interests"],t=0;t<e.length;t++)if(!n.state[e[t]])return!1;return!0},n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(g.a)({},r,a))},n.removePicture=function(){document.querySelector("input[type=file]").value="",n.setState({profilePicture:null})},n.checkAge=function(){var e=new Date(n.state.birthday),t=new Date,a=t.getFullYear()-e.getFullYear();(t.getMonth()<e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate<e.getDate())&&(a-=1),a<18?alert("You need to be above 18 to register"):a>100?alert("Please make sure you have entered a valid birthday"):a>=18&&a<=100||alert("Please input valid birthday"),n.state.age=a},n.state={userId:p("userId"),name:"",birthday:"",age:0,bio:"",gender:"Female",genderPreference:"Female",education:"",interests:"",error:"",maxDistance:10,updateStatus:"",loading:!0,profilePicture:null},n.handleUpdate=n.handleUpdate.bind(Object(E.a)(n)),n.handleChange=n.handleChange.bind(Object(E.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new Request("https://pp-friends.herokuapp.com/viewprofile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId})});fetch(t).then((function(e){return e.json()})).then((function(t){return e.setState({name:t.name,bio:t.bio,gender:t.gender,genderPreference:t.genderPreference,education:t.education,interests:t.interests,maxDistance:t.maxDistance,birthday:t.birthday,profilePicture:t.profilePicture,updatedMessage:"",loading:!1})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){this.state.error;var e=this.state.id,t=this.state.loading;return""===e?(this.props.history.push({pathname:"/login"}),null):r.a.createElement("div",null,r.a.createElement(O,{id:this.state.userId}),t?r.a.createElement(j,null):r.a.createElement("div",{className:"Profile"},r.a.createElement("form",{id:"profileForm",onSubmit:this.handleUpdate},r.a.createElement("h1",null,"Update My Profile \ud83d\udc4b"),r.a.createElement("img",{src:"ppFriendsLogo.png"}),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"column left"},r.a.createElement("div",{class:"profilepic"},r.a.createElement("p",null,"Profile Picture"),r.a.createElement("br",null),this.state.profilePicture&&r.a.createElement("img",{src:this.state.profilePicture}),r.a.createElement("p",null,"Upload New image:"),r.a.createElement("input",{type:"file",id:"img",name:"img",accept:"image/*"}),r.a.createElement("br",null),r.a.createElement("text",{class:"removepic",onClick:this.removePicture},"Remove picture"),r.a.createElement("div",{class:"updateProfileButton"},r.a.createElement("input",{type:"submit",value:"Save Profile"}),this.state.updatedMessage))),r.a.createElement("div",{class:"column right"},r.a.createElement("div",{class:"rectangle2"},r.a.createElement("label",{for:"User"},"Name \ud83d\ude00"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange,maxlength:"30"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Birthday"},"Birthday \ud83c\udf82"),r.a.createElement("input",{type:"date",name:"birthday",value:this.state.birthday,min:"1920-01-01",placeholder:"YYYY-MM-DD",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Gender"},"Gender \ud83d\udc6b"),r.a.createElement("select",{name:"gender",onChange:this.handleChange,value:this.state.gender},r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Other"},"Other")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"GenderPreference"},"Your Preferred Gender for friends \ud83c\udf8e"),r.a.createElement("select",{name:"genderPreference",fieldValue:this.state.genderPreference,onChange:this.handleChange,value:this.state.genderPreference},r.a.createElement("option",{value:"Female"},"Female"),r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Both"},"Both")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Education"},"Education/Work \ud83d\udcbb"),r.a.createElement("input",{type:"text",name:"education",value:this.state.education,onChange:this.handleChange,maxlength:"30"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Interests"},"Your interests \ud83c\udfa8"),r.a.createElement("textarea",{type:"text",name:"interests",value:this.state.interests,onChange:this.handleChange,maxlength:"255"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Bio"},"Bio \ud83d\ude36"),r.a.createElement("textarea",{type:"text",name:"bio",value:this.state.bio,onChange:this.handleChange,maxlength:"255",contenteditable:"true"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Distance"},"Max Distance \ud83c\udf0e"),r.a.createElement("input",{type:"range",name:"maxDistance",value:this.state.maxDistance,onChange:this.handleChange,min:"1",max:"500"}),r.a.createElement("text",null,this.state.maxDistance,"KM"),r.a.createElement("br",null),r.a.createElement("br",null)))))))}}]),a}(r.a.Component),K=Object(d.f)(H),$=(a(99),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){if(e.preventDefault(),""!=n.state.email){var t=n.state.userId,a=new FormData(document.getElementById("newEmailForm"));a.append("id",t);var r=new Request("https://pp-friends.herokuapp.com/updateEmail",{method:"POST",body:a});fetch(r).then((function(e){return e.json()})).then((function(e){n.setState({error:""}),"Success"===e.response?alert("You have successfully changed your email"):n.setState({error:e.response})})).catch((function(e){n.setState({error:"Error connecting to backend"})}))}else alert("Please enter a new email address")},n.state={userId:p("userId"),email:"",error:""},n.handleInputChange=n.handleInputChange.bind(Object(E.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(g.a)({},n,a))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,{id:this.state.userId}),r.a.createElement("div",{className:"updateEmail"},r.a.createElement("form",{id:"newEmailForm",onSubmit:this.handleSubmit},r.a.createElement("h1",null,"Update Email"),r.a.createElement("p",null,"Please enter your new email address:"),r.a.createElement("input",{name:"email",type:"email",value:this.state.email,placeholder:"New Email Address",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("input",{name:"UpdateEmail",type:"submit",value:"Update"}),r.a.createElement("text",null,this.state.error))))}}]),a}(r.a.Component)),z=Object(d.f)($),X=(a(100),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).completedInput=function(){for(var e=["oldPassword","newPassword","confirmPassword"],t=0;t<e.length;t++)if(!n.state[e[t]])return!1;return!0},n.handleSubmit=function(e){if(e.preventDefault(),n.completedInput()){if(n.checkPasswords()){var t=n.state.userId,a=new FormData(document.getElementById("newPasswordForm"));a.append("id",t);var r=new Request("https://pp-friends.herokuapp.com/updatePassword",{method:"POST",body:a});fetch(r).then((function(e){return e.json()})).then((function(e){n.setState({error:""}),"Success"===e.response?n.setState({error:"Successfully updated password!"}):n.setState({error:e.response})})).catch((function(e){n.setState({error:"Error connecting to backend"})}))}}else alert("Please enter all fields")},n.state={userId:p("userId"),oldPassword:"",newPassword:"",confirmPassword:"",error:""},n.handleInputChange=n.handleInputChange.bind(Object(E.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(g.a)({error:""},n,a))}},{key:"checkPasswords",value:function(){var e=this.state.newPassword,t=this.state.confirmPassword,a=this.state.oldPassword;return 0===e.length?(alert("Please add password"),!1):t!=e?(alert("Please make sure the new passwords match"),!1):t!=e||e!=a||(alert("Your new password is the same as your old password"),!1)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,{id:this.state.userId}),r.a.createElement("div",{className:"Password"},r.a.createElement("form",{id:"newPasswordForm",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"updatePassword"},r.a.createElement("h1",null,"Change Password"),r.a.createElement("label",{for:"oldPassword"},"Old Password"),r.a.createElement("input",{name:"oldPassword",type:"password",value:this.state.oldPassword,placeholder:"Current Password",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("label",{for:"newPassword"},"New Password"),r.a.createElement("input",{name:"newPassword",type:"Password",value:this.state.newPassword,placeholder:"New Password",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("label",{for:"confirmPassword"},"Confirm Password"),r.a.createElement("input",{name:"confirmPassword",type:"password",value:this.state.confirmPassword,placeholder:"Re-enter New Password",onChange:this.handleInputChange}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Update"}),r.a.createElement("text",null,this.state.error)))))}}]),a}(r.a.Component)),Z=Object(d.f)(X),ee=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n,r,s,l,o,c,u,m,d,h;return Object(i.a)(this,a),(h=t.call(this,e)).state={userId:null===(n=h.props)||void 0===n||null===(r=n.location)||void 0===r||null===(s=r.state)||void 0===s?void 0:s.id,friendId:null===(l=h.props)||void 0===l||null===(o=l.location)||void 0===o||null===(c=o.state)||void 0===c?void 0:c.friendId,currentName:null===(u=h.props)||void 0===u||null===(m=u.location)||void 0===m||null===(d=m.state)||void 0===d?void 0:d.currentName,name:"",birthday:"",age:0,bio:"",gender:"Female",education:"",interests:"",error:"",profilePicture:null},h.selectUserMessage=h.selectUserMessage.bind(Object(E.a)(h)),h.unmatchUser=h.unmatchUser.bind(Object(E.a)(h)),h}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new Request("https://pp-friends.herokuapp.com/viewprofile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.friendId})});fetch(t).then((function(e){return e.json()})).then((function(t){return e.setState({name:t.name,age:t.age,bio:t.bio,gender:t.gender,education:t.education,interests:t.interests,birthday:t.birthday,profilePicture:t.profilePicture})})).catch((function(e){console.error(e)}))}},{key:"selectUserMessage",value:function(e){var t=this,a=e.target.value.split("|"),n=new Request("https://pp-friends.herokuapp.com/conversationId",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId,friendId:a[0]})});fetch(n).then((function(e){return e.json()})).then((function(e){t.props.history.push({pathname:"/messages",state:{friendId:a[0],currentName:t.state.currentName,friendName:a[1],currentConvoId:e.currentConvoId,friendConvoId:e.friendConvoId}})})).catch((function(e){alert("Something went wrong"),console.error(e)}))}},{key:"unmatchUser",value:function(e){var t=this,a=new Request("https://pp-friends.herokuapp.com/unmatch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId,friendId:this.state.friendId})});fetch(a).then((function(e){return e.json()})).then((function(e){t.props.history.push({pathname:"/matches",state:{id:t.state.userId}})})).catch((function(e){alert("Something went wrong"),console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.state.name+"'s";return r.a.createElement("div",null,r.a.createElement(O,{id:this.state.userId}),r.a.createElement("div",{className:"Profile"},r.a.createElement("form",{id:"profileForm"},r.a.createElement("h1",null,"View ",t," Profile"),r.a.createElement("div",{class:"row"},r.a.createElement("br",null),r.a.createElement("button",{className:"pos-user",key:this.state.friendId+"|message",value:this.state.friendId+"|"+this.state.name,onClick:this.selectUserMessage},"message ",this.state.name),r.a.createElement("br",null),r.a.createElement("div",{class:"column left"},r.a.createElement("div",{class:"profilepic"},r.a.createElement("button",{className:"unmatch-button",onClick:function(t){window.confirm("Are you sure you wish to unmatch with this user? You cannot undo this action")&&e.unmatchUser(t)}},"Unmatch ",this.state.name),r.a.createElement("br",null),this.state.profilePicture&&r.a.createElement("img",{src:this.state.profilePicture}))),r.a.createElement("div",{class:"column right"},r.a.createElement("div",{class:"rectangle"},r.a.createElement("label",{for:"User"},"Name \ud83d\ude00"),this.state.name,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Birthday"},"Birthday \ud83c\udf82"),this.state.birthday,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Gender"},"Gender \ud83d\udc6b"),this.state.gender,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Education"},"Education/Work \ud83d\udcbb"),r.a.createElement("text",null,this.state.education),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Interests"},"Your interests \ud83c\udfa8"),r.a.createElement("text",{class:"bigText"},this.state.interests),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",{for:"Bio"},"Bio \ud83d\ude36"),r.a.createElement("text",{class:"bigText"},this.state.bio),r.a.createElement("br",null),r.a.createElement("br",null))))),r.a.createElement("text",null,this.state.error)))}}]),a}(r.a.Component),te=Object(d.f)(ee),ae=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=p("userId");return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/createprofile"},r.a.createElement(w,null)),r.a.createElement(d.a,{path:"/viewprofile"},r.a.createElement(_,null)),r.a.createElement(d.a,{path:"/viewfriendprofile"},r.a.createElement(te,null)),r.a.createElement(d.a,{path:"/editprofile"},r.a.createElement(K,null)),r.a.createElement(d.a,{path:"/register"},r.a.createElement(v,null)),r.a.createElement(d.a,{path:"/main"},r.a.createElement(U,null)),r.a.createElement(d.a,{path:"/matches"},r.a.createElement(M,null)),r.a.createElement(d.a,{path:"/questionnaire"},r.a.createElement(B,null)),r.a.createElement(d.a,{path:"/updateQuestionnaire"},r.a.createElement(Y,null)),r.a.createElement(d.a,{path:"/messages"},r.a.createElement(Q,null)),r.a.createElement(d.a,{path:"/updateEmail"},r.a.createElement(z,null)),r.a.createElement(d.a,{path:"/updatePassword"},r.a.createElement(Z,null)),r.a.createElement(d.a,{path:"/login"},r.a.createElement(S,null)),r.a.createElement(d.a,{path:"/"},""===e?r.a.createElement(S,null):r.a.createElement(U,null)))))}}]),a}(r.a.Component);l.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(e,t,a){},24:function(e,t,a){},53:function(e,t,a){e.exports=a(101)},58:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},94:function(e,t){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[53,1,2]]]);
//# sourceMappingURL=main.f4c7e999.chunk.js.map